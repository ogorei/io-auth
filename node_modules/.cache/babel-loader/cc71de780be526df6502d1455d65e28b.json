{"ast":null,"code":"import _regeneratorRuntime from\"/Users/reinaogo/Developer/io-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/reinaogo/Developer/io-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Redirect,Route}from\"react-router-dom\";import{IonApp,IonRouterOutlet}from\"@ionic/react\";import{IonReactRouter}from\"@ionic/react-router\";import{App as CapApp}from\"@capacitor/app\";import{Browser}from\"@capacitor/browser\";import{useAuth0}from\"@auth0/auth0-react\";import{callbackUri}from\"./auth.config\";import Home from\"./pages/Home\";/* Core CSS required for Ionic components to work properly */import\"@ionic/react/css/core.css\";/* Basic CSS for apps built with Ionic */import\"@ionic/react/css/normalize.css\";import\"@ionic/react/css/structure.css\";import\"@ionic/react/css/typography.css\";/* Optional CSS utils that can be commented out */import\"@ionic/react/css/padding.css\";import\"@ionic/react/css/float-elements.css\";import\"@ionic/react/css/text-alignment.css\";import\"@ionic/react/css/text-transformation.css\";import\"@ionic/react/css/flex-utils.css\";import\"@ionic/react/css/display.css\";/* Theme variables */import\"./theme/variables.css\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useAuth=useAuth0(),handleRedirectCallback=_useAuth.handleRedirectCallback;useEffect(function(){CapApp.addListener(\"appUrlOpen\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url;if(!url.startsWith(callbackUri)){_context.next=7;break;}if(!(url.includes(\"state\")&&(url.includes(\"code\")||url.includes(\"error\")))){_context.next=5;break;}_context.next=5;return handleRedirectCallback(url);case 5:_context.next=7;return Browser.close();case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());},[handleRedirectCallback]);return/*#__PURE__*/_jsx(IonApp,{children:/*#__PURE__*/_jsx(IonReactRouter,{children:/*#__PURE__*/_jsxs(IonRouterOutlet,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home\",children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Redirect,{to:\"/home\"})})]})})});};export default App;","map":{"version":3,"sources":["/Users/reinaogo/Developer/io-auth/src/App.tsx"],"names":["Redirect","Route","IonApp","IonRouterOutlet","IonReactRouter","App","CapApp","Browser","useAuth0","callbackUri","Home","useEffect","handleRedirectCallback","addListener","url","startsWith","includes","close"],"mappings":"6SAAA,OAASA,QAAT,CAAmBC,KAAnB,KAAgC,kBAAhC,CACA,OAASC,MAAT,CAAiBC,eAAjB,KAAwC,cAAxC,CACA,OAASC,cAAT,KAA+B,qBAA/B,CACA,OAASC,GAAG,GAAIC,CAAAA,MAAhB,KAA8B,gBAA9B,CACA,OAASC,OAAT,KAAwB,oBAAxB,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CAEA,6DACA,MAAO,2BAAP,CAEA,yCACA,MAAO,gCAAP,CACA,MAAO,gCAAP,CACA,MAAO,iCAAP,CAEA,kDACA,MAAO,8BAAP,CACA,MAAO,qCAAP,CACA,MAAO,qCAAP,CACA,MAAO,0CAAP,CACA,MAAO,iCAAP,CACA,MAAO,8BAAP,CAEA,qBACA,MAAO,uBAAP,CACA,OAASC,SAAT,KAA0B,OAA1B,C,wFAEA,GAAMN,CAAAA,GAAa,CAAG,QAAhBA,CAAAA,GAAgB,EAAM,CAC1B,aAAmCG,QAAQ,EAA3C,CAAQI,sBAAR,UAAQA,sBAAR,CAEAD,SAAS,CAAC,UAAM,CACdL,MAAM,CAACO,WAAP,CAAmB,YAAnB,2FAAiC,+IAASC,GAAT,MAASA,GAAT,KAC3BA,GAAG,CAACC,UAAJ,CAAeN,WAAf,CAD2B,8BAG3BK,GAAG,CAACE,QAAJ,CAAa,OAAb,IACCF,GAAG,CAACE,QAAJ,CAAa,MAAb,GAAwBF,GAAG,CAACE,QAAJ,CAAa,OAAb,CADzB,CAH2B,gDAMrBJ,CAAAA,sBAAsB,CAACE,GAAD,CAND,8BASvBP,CAAAA,OAAO,CAACU,KAAR,EATuB,uDAAjC,iEAYD,CAbQ,CAaN,CAACL,sBAAD,CAbM,CAAT,CAeA,mBACE,KAAC,MAAD,wBACE,KAAC,cAAD,wBACE,MAAC,eAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,OAAlB,uBACE,KAAC,IAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACE,KAAC,QAAD,EAAU,EAAE,CAAC,OAAb,EADF,EAJF,GADF,EADF,EADF,CAcD,CAhCD,CAkCA,cAAeP,CAAAA,GAAf","sourcesContent":["import { Redirect, Route } from \"react-router-dom\";\nimport { IonApp, IonRouterOutlet } from \"@ionic/react\";\nimport { IonReactRouter } from \"@ionic/react-router\";\nimport { App as CapApp } from \"@capacitor/app\";\nimport { Browser } from \"@capacitor/browser\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { callbackUri } from \"./auth.config\";\nimport Home from \"./pages/Home\";\n\n/* Core CSS required for Ionic components to work properly */\nimport \"@ionic/react/css/core.css\";\n\n/* Basic CSS for apps built with Ionic */\nimport \"@ionic/react/css/normalize.css\";\nimport \"@ionic/react/css/structure.css\";\nimport \"@ionic/react/css/typography.css\";\n\n/* Optional CSS utils that can be commented out */\nimport \"@ionic/react/css/padding.css\";\nimport \"@ionic/react/css/float-elements.css\";\nimport \"@ionic/react/css/text-alignment.css\";\nimport \"@ionic/react/css/text-transformation.css\";\nimport \"@ionic/react/css/flex-utils.css\";\nimport \"@ionic/react/css/display.css\";\n\n/* Theme variables */\nimport \"./theme/variables.css\";\nimport { useEffect } from \"react\";\n\nconst App: React.FC = () => {\n  const { handleRedirectCallback } = useAuth0();\n\n  useEffect(() => {\n    CapApp.addListener(\"appUrlOpen\", async ({ url }) => {\n      if (url.startsWith(callbackUri)) {\n        if (\n          url.includes(\"state\") &&\n          (url.includes(\"code\") || url.includes(\"error\"))\n        ) {\n          await handleRedirectCallback(url);\n        }\n\n        await Browser.close();\n      }\n    });\n  }, [handleRedirectCallback]);\n\n  return (\n    <IonApp>\n      <IonReactRouter>\n        <IonRouterOutlet>\n          <Route exact path=\"/home\">\n            <Home />\n          </Route>\n          <Route exact path=\"/\">\n            <Redirect to=\"/home\" />\n          </Route>\n        </IonRouterOutlet>\n      </IonReactRouter>\n    </IonApp>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}